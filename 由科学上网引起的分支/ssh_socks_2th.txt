要学习使用ssh_socks之前，必须得知道它要解决什么问题。

#ssh_socks通常解决什么问题#
1. 内网PC：A不能直接访问外网站B，但是能访问外网PC：C
	* ssh正向连接，端口转发
2. 外网PC：C不能访问到内网的PC：A
	* ssh反向连接
	
#ssh正向连接#
举个例子，在例子中学会使用。
假设你内网PC：A的ip是192.168.202.61 要访问外网网站www.google.com， 你能访问到的外网PC：C的ip是8.8.8.8。
ssh -N -f -L 5060:www.google.com:80 8.8.8.8
这样你就可以通过http://localhost:5060来访问www.google.com了。

详细说一下这些参数。
-N 告诉客户端A，这个连接不需要执行任何命令。仅仅做端口转发。
-f 告诉ssh客户端在后台运行

上面这两参数可以叫做ssh的通用配置参数，以下就是ssh正向连接的配置参数了。
-L  本地映射端口，参数是
	* 本地端口：要访问的目标域名/ip: 要访问的目标的端口
最后一个参数是我们用来建立隧道的中间机器C的ip地址：8.8.8.8


#ssh反向连接#
反向连接使用的比较多，因为你的PC：A在内网，位于外网的C是没有办法直接访问到的。
但是A是可以直接访问到C的，所以就可以利用反向连接打通一条隧道，
就可以让外网C直接通过隧道进来。

在A上建立反向连接，如下：
ssh -N -f -R 5066:127.0.0.1:8080 8.8.8.8
这样在8.8.8.8的PC：C上就可以用ssh -p 5066 localhost登陆内网主机A了。


#ssh做socks代理#
假设内网某机器D可以上网，但是你自己的机器A不能上网。
你有ssh到机器D上的权限，那么你就可以利用ssh方式建立一个代理socks5，通过代理上网。

在你的主机A上：
ssh -D [本地IP或省略]:[本地端口] [登陆服务器的用户名@服务器IP] -p [服务器ssh服务器端口(默认22)]

#将socks代理修改成http代理#


