# 有序性

***
需要解释一下，指令不一定会按照顺序执行，有可能发生指令重排序

# 指令重排序
***
一般来说，处理器为了提高程序运行效率，可能会对输入代码进行优化，它不保证程序中各个语句的执行先后顺序同代码中的顺序一致，
但是它会保证程序最终执行结果和代码顺序执行的结果是一致的。
	** 处理器在指令重排序时会考虑指令之间的数据依赖性，如果一个指令需要前一个指令的计算结果，就不会发生重排序

***
虽然指令重排序会保证，单线程结果不会影响，但是多线程就不一定了。
//线程1:
 
context = loadContext();  //语句1
inited =true;            //语句2
 
//线程2:
while(!inited ){
   sleep()
}
doSomethingwithconfig(context);
由于语句1和语句2没有数据依赖性，因此可能会被重排序。
假如发生了重排序，在线程1执行过程中先执行语句2，
而此是线程2会以为初始化工作已经完成，那么就会跳出while循环，去执行doSomethingwithconfig(context)方法，而此时context并没有被初始化，就会导致程序出错。
从上面可以看出，指令重排序不会影响单个线程的执行，但是会影响到线程并发执行的正确性。
